var FormValidator=function(t){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var n={validClass:"is-valid",invalidClass:"is-invalid",indicator:!0,indicatorElement:"span",indicatorPosition:"after",indicatorClass:"invalid-feedback",invalidForm:"Form is not valid!",invalidFormAlert:!1},a=function(){function t(e){var i=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e||"HTMLFormElement"!==e.constructor.name)throw new Error("Validator needs a form element");if(this.form=e,!this.form.hasAttribute("novalidate")){var a,r,o;if(this.passiveSupported=function(){var t=!1;try{var e={get passive(){return t=!0,!0}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){return t=!1,!1}return t}(),this.elementsForValidation=[],this.validateFormElement=this.validateFormElement.bind(this),this.attachElement=this.attachElement.bind(this),this.debounced=(a=2e3,r=this.validateFormElement,function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];o&&clearTimeout(o),o=setTimeout((function(){r.apply(void 0,e),o=null}),a)}),this.options=n,this.form.dataset)for(var s in this.form.dataset)Object.prototype.hasOwnProperty.call(this.options,s)&&(this.options[s]="indicator"===s||"invalidFormAlert"===s?"true"===this.form.dataset[s]:this.form.dataset[s]);[].slice.call(this.form.elements).forEach((function(t){t.hasAttribute("disabled")||"FIELDSET"===t.tagName||(i.elementsForValidation.push(t),t.addEventListener("blur",i.validateFormElement,!i.passiveSupported||{passive:!0}),t.addEventListener("change",i.validateFormElement,!i.passiveSupported||{passive:!0}),t.addEventListener("input",i.debounced,!i.passiveSupported||{passive:!0}),i.options.indicator&&i.elementInit&&"function"==typeof i.elementInit&&i.elementInit(t))}))}}var a,r,o;return a=t,(r=[{key:"validateFormElement",value:function(t){var e=null;if(!t||!t.target||t.target.form!==this.form)throw new Error("The element needs to be a children of a form element");(e=t.target).checkValidity(),this.notify&&"function"==typeof this.notify&&this.notify(e,e.validity.valid)}},{key:"getCustomMessage",value:function(t,i,n){if(!t||!i||!n)return null;var a=t.dataset;if("object"===e(a)){if(n.typeMismatch&&a["".concat(i,"Mismatch")])return a["".concat(i,"Mismatch")];for(var r in a)if(Object.prototype.hasOwnProperty.call(a,r)&&!0===n[r])return a[r]}return null}},{key:"attachElement",value:function(t){!t.hasAttribute("disabled")&&t.willValidate&&(t.removeEventListener("blur",this.validateFormElement,!this.passiveSupported||{passive:!0}),t.removeEventListener("change",this.validateFormElement,!this.passiveSupported||{passive:!0}),t.removeEventListener("input",this.debounced,!this.passiveSupported||{passive:!0}),t.addEventListener("blur",this.validateFormElement,!this.passiveSupported||{passive:!0}),t.addEventListener("change",this.validateFormElement,!this.passiveSupported||{passive:!0}),t.addEventListener("input",this.debounced,!this.passiveSupported||{passive:!0}),this.options.indicator&&this.elementInit&&"function"==typeof this.elementInit&&this.elementInit(t))}}])&&i(a.prototype,r),o&&i(a,o),t}();return t.Formally=a,t}({});
